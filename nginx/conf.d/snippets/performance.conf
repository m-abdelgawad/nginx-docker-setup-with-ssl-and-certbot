# --- Compression -------------------------------------------------------
gzip on;
gzip_comp_level 5;
gzip_min_length 256;
gzip_vary on;
gzip_proxied any;

# Avoid broken line continuations or stray quotes here:
# One item per line, no trailing backslashes.
gzip_types
    text/plain
    text/css
    application/json
    application/javascript
    text/xml
    application/xml
    application/xml+rss
    image/svg+xml
    font/ttf
    font/opentype
    font/woff
    font/woff2;

# --- Open file cache ---------------------------------------------------
open_file_cache max=1000 inactive=20s;
open_file_cache_valid 30s;
open_file_cache_min_uses 2;
open_file_cache_errors on;

# --- TCP / socket tweaks -----------------------------------------------
tcp_nopush on;
tcp_nodelay on;

# --- Keepalive ---------------------------------------------------------
keepalive_timeout 65s;
keepalive_requests 100;

# --- Client buffers / timeouts -----------------------------------------
client_body_buffer_size 128k;
client_max_body_size 10m;
client_body_timeout 12s;
client_header_timeout 12s;

# --- Send timeout ------------------------------------------------------
send_timeout 10s;

# --- Security / cosmetics ----------------------------------------------
server_tokens off;
